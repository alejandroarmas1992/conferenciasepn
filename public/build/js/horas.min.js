!function(){if(document.querySelector("#horas")){const t=document.querySelector('[name="categoria_id"]'),c=document.querySelectorAll('[name="dia"]'),r=document.querySelector('[name="dia_id"]'),s=document.querySelector('[name="hora_id"]');t.addEventListener("change",a),c.forEach(e=>e.addEventListener("change",a));let i={categoria_id:+t.value||"",dia:+r.value||""};function a(a){i[a.target.name]=a.target.value,s.value="",r.value="";const o=document.querySelector(".horas__hora--seleccionada");o&&o.classList.remove("horas__hora--seleccionada"),Object.values(i).includes("")||e()}async function e(){const{dia:a,categoria_id:e}=i,t=`/api/eventos-horario?dia_id=${a}&categoria_id=${e}`,c=await fetch(t);!function(a){const e=document.querySelectorAll("#horas li");e.forEach(a=>a.classList.add("horas__hora--deshabilitada"));const t=a.map(a=>a.hora_id),c=Array.from(e);c.filter(a=>!t.includes(a.dataset.horaId)).forEach(a=>a.classList.remove("horas__hora--deshabilitada"));document.querySelectorAll("#horas li:not(.horas__hora--deshabilitada)").forEach(a=>a.addEventListener("click",o))}(await c.json())}function o(a){const e=document.querySelector(".horas__hora--seleccionada");e&&e.classList.remove("horas__hora--seleccionada"),a.target.classList.add("horas__hora--seleccionada"),s.value=a.target.dataset.horaId,r.value=document.querySelector('[name="dia"]:checked').value}Object.values(i).includes("")||(async()=>{await e();const a=s.value,t=document.querySelector(`[data-hora-id="${a}"]`);t.classList.remove("horas__hora--deshabilitada"),t.classList.add("horas__hora--seleccionada"),t.onclick=o})()}}();
//# sourceMappingURL=horas.js.map
