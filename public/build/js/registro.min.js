import Swal from"sweetalert2";!function(){let e=[];const t=document.querySelector("#registro-resumen");if(t){document.querySelectorAll(".evento__agregar").forEach(e=>e.addEventListener("click",o));function o({target:t}){e.length<5?(t.disabled=!0,e=[...e,{id:t.dataset.id,titulo:t.parentElement.querySelector(".evento__nombre").textContent.trim()}],n()):Swal.fire({title:"Error",text:"Máximo 5 eventos por registro",icon:"error",confirmButtonText:"OK"})}function n(){if(function(){for(;t.firstChild;)t.removeChild(t.firstChild)}(),e.length>0)e.forEach(o=>{const r=document.createElement("DIV");r.classList.add("registro__evento");const i=document.createElement("H3");i.classList.add("registro__nombre"),i.textContent=o.titulo;const a=document.createElement("BUTTON");a.classList.add("registro__eliminar"),a.innerHTML='<i class="fa-solid fa-trash"></i>',a.onclick=function(){!function(t){e=e.filter(e=>e.id!==t);document.querySelector(`[data-id="${t}"]`).disabled=!1,n()}(o.id)},r.appendChild(i),r.appendChild(a),t.appendChild(r)});else{const e=document.createElement("P");e.textContent="No hay eventos, añade hasta 5 del lado izquierdo",e.classList.add("registro__texto"),t.appendChild(e)}}document.querySelector("#registro").addEventListener("submit",(async function(t){t.preventDefault();const o=document.querySelector("#regalo").value,n=e.map(e=>e.id);if(0===n.length||""===o)return void Swal.fire({title:"Error",text:"Elige al menos un Evento y un Regalo",icon:"error",confirmButtonText:"OK"});const r=new FormData;r.append("eventos",n),r.append("regalo_id",o);const i=await fetch("/finalizar-registro/conferencias",{method:"POST",body:r}),a=await i.json();console.log(a),a.resultado?Swal.fire("Registro Exitoso","Tus conferencias se han almacenado y tu registro fue exitoso, te esperamos en DevWebCamp","success").then(()=>location.href="/boleto?id="+a.token):Swal.fire({title:"Error",text:"Hubo un error",icon:"error",confirmButtonText:"OK"}).then(()=>location.reload())})),n()}}();
//# sourceMappingURL=registro.js.map
